![logo](Git_logo.png)
# Работа в Git
## 1. Проверка наличия установленного Git
В терминале выполнить команду 
```bash
git --version
``` 
Если Git установлен, появится сообщение с информации о версии программы, иначе сообщение об ошибке.
## 2. Установка GIt 
Загружаем последнюю версию Git с [сайта](https://git-scm.com/downloads). Устанавливает с настройками по умолчанию.
## 3. Настройка Git
При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале две команды:<br>
```bash
    3.1 git config --global user.name "Ivan Petrov"
    3.2 git config --global user.email ipetrov@example.com
```
где Ivan Petrov - Ваш логин;<br>
ipetrov@example.com - Ваш email
## 4. Инициализация репозитория 
 Необходимо в проводнике в Git открыть нужную папку и в терминале выполнить команду: 
 ```bash 
 git init
 ```
## 5. Запись изменений в репозиторий
* -`git status - данную команду можно использовать для просмотра текущего состояния (статуса) репозитория`*<br>
* -`git diff - данную команду можно использовать для просмотра изменений, внесенных в файл`<br>
5.1 Сохраните изменения в файле 
```bash
Ctrl+s/Cmd+s
``````
5.2 Проиндексируйте те измененные файлы, которые Вы хотите в последствии закоммитить.
```bash
git add. - индексирует сразу все файлы репозитория
git add "название файла" - индексирует конкретный файл
``````
5.3 Зафиксировать (закоммитить) изменения: 
```bash
git commit -m “Комментарий к коммиту”
```
## 6. Просмотр истории коммитов
``` bash
git log: просмотреть историю коммитов
git log --oneline: показывает историю коммитов в более укороченном формате: по каждому коммиту показывается укороченный индекс, название ветки и комментарий к коммиту
git log --oneline -2: показывает последние два коммита (можно выводить то число коммитов, которое надо отображать)
```
## 7. Перемещение между сохранениями 
Для перемещения между разными версиями файла (коммитами) в терминале необходимо ввести команду 
```bash
git checkout <версия коммита>

примечание: <версия коммита> - достаточно ввести первые семь цифр хеша
```
Для продолжения работы необходимо вернуться в  master
```bash
git checkout master
```
## 8. Игнорирование файлов
Для исключения конкретных файлов (либо отдельных типов файлов) из отслеживания необходимо:<br>
    1. Создать в репозитории файл `.gitignore`<br>.
    2. В данный файл добавить относительный путь конкртеного файла (его можно скопироваать через контекстное меню файл), либо шаблон (например для всех картинок `*.png`)<br>
    3. Проиндексировать и закоммитить `.gitignore`
## 9. Создание веток
*по умолчанию основной веткой в git является ветка `master`*<br>
Чтобы просто создать новую ветку, в терминале необходимо ввести 
```bash
git branch <название ветки>
```
Также можно использовать команду, котороая не только создаст ветку, но и сразу переключит нас внутрь этой ветки
```bash
git checkout -b <название ветки> 
```
## 10. Слияние веток и разрешение конфликтов
Для слияния веток необходимо<br>
10.1 Понять, `ИЗ` какой ветки в `КАКУЮ` мы будем "сливать" изменени<br>
10.2 Перейти в ту ветку, в которую мы будем "сливать" изменения
10.3 Для слияние веток в терминале выполнить команду
``` bash
git merge <название ветки> 
где <название ветки> - та ветка, которую мы сливаем с текущей
```
После слияние веток мы можем посмотреть историю коммитов в виде "дерева"
```bash
git checkout <версия коммита>
После слияние веток мы можем посмотреть историю слияния коммитов в виде "дерева"
```bash
git log --graph
```
## 11. Удаление веток
Для удаления веток необходимо использовать в терминале следующую команду
```bash
git branch -d <название ветки>
```
Либо можно испоользовать "полную" команду
```bash
git branch --delete <название ветки>
```
При удалении веток необходимо учитывать следующие моменты <br>
* нельзя удалить текщую ветку (т.е. ту ветку, в которой мы в данный момент находимся)
* если в удаляемой ветке присутствуют изменения, которые не закоммитили, система выдаст ошибку
* удалять ветку необходимо только после того, как будет четкое понимание,что она больше не нужна в проекте.
## 12. Работа с удаленными репозиториями
12_1 Сначала необходимо создать аккаунт на [GitHub](https://github.com). Если аккаунт уже создан ранее, необходимо авторизоваться.<br>
12_2 Далее необходимо на компьютере создать папку, которая не будет являться репозиторием.
### 12.1 Работа со своим удаленным репозиторием
*Дальнейшие действия выполнять только после выполнения п. 12_1 и 12_2<br>*

1. Создаем в созданной на нашем компьютере папке локальный репозиторий (см. п.4 выше в инструкции).
2. На GitHub в своем аккаунте создаем репозиторий: “+” - new repositiry - пишем имя репозитория. Отмечаем, какой это будет репозиторий - private или public. Также можем добавить фай README.md
3. GitHub предлагает три варианта:<br> 
    а) "… or create new repository on the command line" - это вариант для случая, когда у нас еще нет локального репозитория<br>
    б) "…or push and existing repository on the command line" - этот вариант для случая, когда уже создан локальный репозиторий (т.е. наш случай) - GitHub предлагает добавить удаленный репозиторий к локальному (“подружить” их).<br>
    в) "…or import code from another repository" - импортирует код из другого репозитория.<br>
<br>

<u>__*!!! Далее мы будем рассматривать вариан "б"!!!*__</u>

1. Добавить удаленный репозиторий к локальному (GitHub добавит подсказки с необходимыми командами). Слово “origin” мы в дальнейшем будем использовать вместо длинной ссылки. Можно поставить и любое другое слово и даже латинскую букву - но обычно принято origin. Необходимо проверить, что локальный и удаленный репозитории связаны
```bash
git remote
```
По итогу выполнения команды программа вернет "remote"<br>
2. Переименовать текущую ветку в "main" - если ветка уже называется main, переименовывать не надо.<br>
3. Пушим (push) в удаленный репозиторий
```bash
git push -u origin main
```
При первом push система может попросить авторизоваться.<br>
<u>*По итогу выполнения трех пунктов, перечисленных выше, в удаленном репозитории (на GitHub) появятся файлы из локального репозитория.*</u><br>
4. Далее можно редактировать наши файлы прямо на GitHub (процедура commit выполяняется кнопками, расположенными в интерфейсе GitHub)<br>
5. После редактирования переходим в Visual Code и выполняем pull (т.е. вытягиваем изменения из удаленного репозитория в локальный)
```bash
git pull
```
Обратите внимание на две особенности:
 - **git pull**  это комплексная команда - т.е. она и тянет изменения из удаленного репозитория **(git fetch)** и сразу мержит их **(git merge)**.
Можно условно сказать, что **git pull = git fetch + git merge**;
- если веток на gitHub несколько, то Pull по умолчанию тянет ветку main. Если же мы хотим запулить какую-то другую ветку, надо просто в команде git pull указать имя нужной ветки.
6. Далее мы можем работать в локальном репозитории (применяя команды терминала, описанные выше в разделах 5-11 данной инструкции)
7. После окончания работы в локальном репозитории необходимо запушить (push) все изменения в удаленном репозитории. 
```bash
git push
```
Использовать команду pull можно уже без параметров, которые мы указывали в п.3 раздела 12.1<br>

*Важное примечание: локальный репозиторий на момент пуша должен соответствовать удаленному репозиторию. Т.е. перед push лучше всего предварительно сделать pull.*

### 12.2 Работа с чужим удаленным репозиторием
1. Находясь в своем аккаунте на GitHub  в поисковой строке мы ищем тот чужой проект (по сути репозиторий), который нам нужен. Искать можно по названию репозитория, по имени пользователя и т.д. Когда мы нашли нужный чужой репозиторий на GitHub  - заходим в него.
2. Клонируем данный репозиторий к себе на компьютер. Для этого:
- на GitHub ищем кнопку с надписью “code” - переходим во вкладку local (clone HTTPS) - копируем ссылку;
- в Visual Code переходим в папку которая не является репозиторием - сюда мы и будем клонировать. 
```bash
git clone <скопированная ссылка из предыдущего пункта>
```
При этом в нашей папке создается репозиторий с таким же названием, как и название репозитория на GitHub.<br>
 При необходимости при клонировании можно переименовать папку
    
```bash
git clone <скопированная ссылка из п.2> <новое название папки>
```
3. Переходим в склонированный репозиторий.
4. Теперь мы хотим также участвовать в работе над данным проектом - т.е. по сути внести изменения в чужой репозиторий. Для этого:
- заходим в нужный нам репозиторий и нажимаем кнопку Fork - открывается окно “Create a new fork” - заполняем и создаем форк (Fork). Таким образом у нас в аккаунте открылся “форкнутый” репозиторий.<br>
Теперь мы можем работать в скопированном к себе в аккаунт репозитории, вносить какие-то изменения и предлагать их владельцу “изначального” репозитория.
5. Теперь мы из своего аккаунта клонируем к себе на компьютер форкнутый репозиторий. Для этот мы полностью повторяем шаги 2 и 3. После клонирования необходимо перейти в склонированный репозиторий.
6. В склонированном репозитории создаем новую ветку (например с именем new) и переходим в нее
```bash
git checkout -b <название ветки>)
```
7. Далее мы можем работать в локальном репозитории (применяя команды терминала, описанные выше в разделах 5-11 данной инструкции)
8. После окончания работы пушим изменения в удаленный репозиторий 
```bash
git push -u origin main
```
9. Переходим в GitHub в нашу "форкнутую" ветку в нашем аккаунте: там мы видим, что теперь веток стало на одну больше. Делать мы это будем через пул реквест (pull request).
10. Должна появится кнопка “pull request” - мы нажимаем ее и проходим по “всем зеленым кнопкам”.
Если же кнопка “pull request” не появилась, то переходим во вкладку “pull request” (по умолчанию мы находимся во вкладке “code”), нажимаем кнопку “new pull request”. Теперь смотрим - слева в строке представлен исходный репозиторий, а справа - наш репозиторий. Надо проверить, что в нашем репозитории указывается ветка “new” (compare: new). И после этого появится кнопка “create pull request”.
11. При нажатии на “create pull request” мы деалем запрос в сторону владельца "оригинального" репозитория. При положительном решении относительно нашего запроса наши измнения будут приняты.