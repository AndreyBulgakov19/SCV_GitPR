![LogoGit](Git-Logo-1788C.png)

# Работа с git

## 1. Проверка наличия установленного Git

В терминале выполнить команду `git version`.
Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git

[Загружаем](https://git-scm.com/downloads) последнюю версию. Устанавливаем с настройками по умолчанию.

[VScode для MacOS](https://code.visualstudio.com/download), при отсутствии git, самостоятельно его устанавливает

## 3. Настройка Git

При первом использовании Git необходимо "представиться". Для этого нужно ввести в терминале 2 команды:

```
git config --global user.name «Ваше имя английскими буквами» 
git config --global user.email ваша почта@example.com
```

## 4. Основные команды (раздел дополняется)

``git init`` – инициализация локального репозитория

``git status`` – получить информацию от git о его текущем состоянии

```
NB! Перед выполнением команды, убедитесь что выполнено сохранение файла, иначе Git не увидит сделанных изменений. (В VScode можно включить автосохранение)
```

``git add <file_name>`` – добавить файл в отслеживание или к следующему коммиту

``git commit -m “message”`` – создание коммита  (в кавычках указывается     суть коммита):

```
git commit -m "заполнен раздел 4"
```

``git log``– вывод на экран истории всех коммитов с их хеш-кодами

``git checkout`` – переход от одного коммита к другому (по хеш-кодам)

```
git checkout хххх  (хххх - первые 4 символа хеш-кода коммита, имя ветки (при наличии))
```

``git checkout main`` – вернуться к актуальному состоянию и продолжить работу.

``git diff`` – показать разницу между текущим, и "закоммиченным" файлом

## 5. "Игнорируемые" файлы

Игнорируемые файлы (папки) - те файлы, которые необходимо исключить из отслеживанния (например изображения, служебные файлы системы и т.д.). Необходимо создать файл ***.gitignore*** и записать в него их названия (можно использовать шаблоны)
``пример:``

```
1. *.jpg
2. .DS_Store
```

Файлы (папки) указанные в .gitignore *****в удаленный репозиторий не выгружаются!*****

## 6. Работа с ветками

Ветки, по сути своей, являются "черновиками", позволяющие работать с файлом или конкретными разделами без риска "повреждения" рабочего аврианта.
По умолчанию, главной веткой считается ``master`` или, после 2020 года - ``main`` (куда ж без [нее](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C)...)

Ветка создается командой:

```
git branch <branchname>
```

где ``branchname`` - имя новой (создаваемой) ветки.

ветку можно переименовать:

```
git branch -m имя_ветки 
```
переиминование текущей ветки в ``имя_ветки``

**Список веток репозитория выводится командой:**
```
git branch
```
Текущая (активная) ветка в списке будет отмечена ``*``

После создания ветки и переключения на нее, все изменения, сделанные в файле, сохраняются только в теущей (рабочей) ветке. При переключении на другую ветку, включая ветку основную, изменения отображаться не будут.

**Переключение между ветками осуществляется командой:**

```
git switch <brancname>
```

где ``branchname`` - имя *нужной* ветки

### Слияние веток

Для слияния *нужной* ветки с ***текущей*** используется команда:

```
git merge <branchname>
```

Если при слиянии веток один и тот же фрагмент в обоих ветках отличается, может возникнуть конфликт, требующия разрешения с участием пользователя. VSCode может предлагать варианты разрешения. Для разрешения конфликта можно выбрать один из предложенных вариантов, либо объединить самостоятельно.
После разрешения конфликта необходимо выполнить коммит слияния.

После успешного слияния, если ветка больше не нужна, ее можно удалить:

```
git branch -d <branchname>
```


# 7. Работа с удаленным репозиторием (GitHub)

### Созданние аккаунта на GitHub.com

[Переходим](github.com) и регистрируемся

### Создать локальный репозиторий

Создается как обычно

## Создать удаленный репозиторий

После создания нового репозитория на GitHub будут предложен команды:

```
git remote add origin <путь к репозиторию>
git branch -M main
git push -u origin main
```

``git branch -M main`` - переименует текущую ветку в "main" (если до этого главная ветка называлась ``master``, то выполнение этой команды обязательно)

### Связать локальный и удаленыый репозитории

для связи локального и удаленного репозиториев необходимо ввести команду:

```
git remote add origin <URL удаленного репозитория>
```

После этого Git присвоит удаленному репозиторию имя ``origin``, которое в последующим можно использовать вместо указания пути (URL)

### Добавить данные в удаленный репозиторий

``git push -u origin <branch_name>``

Выгрузка ветки <**branch_name**> в удаленный репозиторий origin.   Ключ ``-u`` указывает на то, что будет установлена связь между локальной веткой ``branch_name`` и веткой ``main`` на удаленном репозитории, в рамаках текщего проекта команда выполняется однократно, и в дальнейшем выгрузка (и загрузка) будет осуществляться командой ``git push (pull)``

```
NB! Если внесены и закоммичены РАЗНЫЕ   изменения   в локальном и удаленном репозитории, то выполнить git push не получится, предварительно следует выполнить git pull и разрешить конфликт.
```

``git pull`` (лучше выполнять из ветки ``main`` (иначе будут сложности)) - получение и слияние изменений из удаленного репозитория

``git remote rm origin`` удалит сведения об удаленном репозитории ``origin`` (отвяжет его от текщкго проекта?)

``git fetch`` - скачивает изменения из удаленного репозитория в **отдельную** ветку

### Работа с чужими репозиториями

``git clone <путь к репозиторию>`` (приявязка к удаленному репозитоию при этом выполняется автоматически)

Fork - в своем аккаунте создать корию репозитория из другого аккаунта (кнопка **Fork**)

Все изменения в копии чужого репозитория создаются в НОВОЙ ВЕТКЕ (которую предварительно нужно содать и выполнить ``git push -u origin <имя_ветки>``)

#### Pull request.
Pull request - это запрос владельцу удаленного репозитория на слияние внесенных вами изменений с его основной веткой. Может быть выполнен после выгрузки измененной ветки в "форкнутый" репозиторий.