![ЛогоGit](SCV_GitPR\image\GitLogo.png)
# Что такое Git и для чего он нужен

`Git` это набор консольних утилит, отлеживающих и фиксирующих изменения в файлах. С его помощью можно сравнивать, анализировать, редактировать, сливать изменения и откатываться к предыдущей версии сохранения (файла\ов), что позвоялет просмотреть как изменялись файлы на всех этапах разработки и упрощает работу в больших коммандах. Этот процесс называется `контролем версий`.

# Работа с Git

## 1. Проверка наличия установленного Git
В терминале выполнить комманду:

```bash
git --version
```
Если Git установлен появится сообщение с информацией о версии программы, иначе будет сообщение об ошибке.

## 2. Установка Git

Загружаем последнюю версию программы с [официального сайта Git](https://git-scm.com/).
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git

После установки Git необходимо представиться программе, ввести имя пользователя и адрес эллектронной почты. 

Чтобы задать имя пользователя в терминале выполнить комманду:

```bash
git config --global user.name "My Name"
```

Чтобы задать адрес электронной почты в терминале выполнить комманду:

```bash
git config --global user.email адрес@почты.com
```

Для применения данных настроек ко всем проектам (сделать глобальными)  указавыется флаг `--global`


## 4. Инициализация репозитория

Для инициализации репозитория необходимо перейти в папку проекта и проверить наличие ранее  созданного репозитория выполнив в конcоли команду:

```bash
git status
```

Если репозиторий не обнаружен в консоли вернётся ответ:

```bash
fatal: not a git repository (or any of the parent directories): .git
```

Чтобы создать репозиторий выполните команду в консоли:

```bash
git init
```

Если репозиторий создался удачно в терминале вернёт сообщение:

```bash
Initialized empty Git repository in (путь к папке с проектом)
```

## 5. Запись изменений в репозиторий

Чтобы сохранить изменения в репозиторий необходимо обозначить отслеживаемые файлы:

* Для добавления к отслеживанию всех файлов в папке проекта выполнить в терминале комманду:

```bash
git add -A
```

или

```bash
git add .
```

* Для добавления к отслеживанию определённых файлов из папки проекта необходмо указать их имя с расширением, выполнив в терминале комманду:

```bash
git add имя_файла.расширение
```

`!Чтобы не писать имя файла в ручную нужно ввести первые несколько символов имени и нажать *TAB*`

Для фиксации изменения (коммита) необходимо обязательно сохранить файл __Ctrl+s__ и выполнить в терминале команду:

```bash
git commit -m "Комментарий разработчика о проделанной работе"
```

Флажёк __-m__ задаёт *commit message* - комментарий разработчика. Если не указать данный флаг откроется расширенная консоль.

Чтобы обозначить и закоммитить файлы одной коммандой можно использовать флаги __-a -m__ или __-am__.
Пример такой команды в терминале:

```bash
git commit -am "Комментарий разработчика о проделанной работе" 
```

## 6. Просмотр истории коммитов

Для просмотра всех выполненных фиксаций (коммитов) выполнить в терминале команду:

```bash
git log
```

В консоли отобразиться список коммитов с указанием хэша, автором, датой создания и комментарием

Пример:

![Скрин консоли](SCV_GitPR\image\scrconslog.PNG)

Для отображения информации в более компактном виде применить флаг `--oneline`

Для отображения информации о слиянии веток в графическом виде применить флаг `--graph`

Для отображдения информации о слиянии веток с компактным описанием применить оба флага, выполнив в консоли составную команду:

```bash
git log --graph --oneline
```


## 7. Перемещение между коммитами

Для перемещения между коммитами нужно знать их хэш. Узнать хэш коммита можно выполнив команду `git log` (подробнее можно узнать в разделе 6. Просмотр истории коммитов). Нет необходимости указывать хэш киммита полность, будет достаточно нескольких первых символов.

Для перемещения к определённому коммиту необходимо выполнить команду в теминале:

```bash
git checkout <хэш_коммита>
```

Для возврата к актуальному коммиту необходимо выполнить в терминале команду:

```bash
git checkout <хэш_основного_коммита>
```

Или

```bash
git switch -
```

## 8. Игнорирование файлов

Для того, чтобы исключить из отслеживания в репозитории определённые фалы или папки необходимо создать файл **.gitignore** и записать в него их название или шаблоны, соответствующие таким файлам или папкам.

Пример файла **.gitignore**:

![Скрин файла .gitignore](SCV_GitPR\image\scrgi.PNG)

## 9. Создание веток в Git

По умолчанию имя основной ветки в Git - **master**

Создать ветку можно командой:

```bash
git branch имя_новой_ветки
```

Чтобы просмотреть список веток выполнить в консоли команду:

```bash
git branch
```

Для перехода между ветками используется команда - `git checkout`

Пример команды в консоли:

```bash
git checkout имя_ветки
```

## 10. Слияние веток и разрешение конфликтов

Для слияние веток необходимо находиться в ветке в которую производиться слияние (по умолчанию **master** или **main**). Определить нынешнее место положение можно выполнив комманду `git branch`, активная ветка будет выделена символом * и подкрашена зелёным цветом.

Для выполнения слияние выполнить команду в консоли:

```bash
git merge имя_ветки_для_слияния
```

При слиянии возникают конфликты, иногда они исправляются автоматически, но в онсовном придёться разбираться вручну - какое изменение останеться, а какое следует удалить. В таких случаях нужно выбрать один из четырех вариантов развития событий:

1. Accept Current Change - Применить текущие изменения
2. Accept Incoming Change - Применить входящие изменения
3. Accept Both Change - Принять оба изменения
4. Compare Change - Сравнить изменения

Выглядит примерно так:

![Сркрин консоли с выбором дейсвтия](SCV_GitPR\image\confl.PNG)

Если система не предлагает варианты к выбору, то придёться делать это рукчками. Приложение отметит строки содржащие конфликт, таким образом, можно увидеть, в чём различие и решить какая из версий лучше или потребуется написать новую.

***По завершению слияния необходимо создать коммит***


## 11. Удаление веток

Удаляемая ветка не должна быть активна, для удаления в консоли выполнить комманду:

```bash
git branch -d имя_ветки_к_удалению
```

В случае елси ветка не слита в основную терминал вернёт ошибку подобного вида:

![Скрин консоли, ошибка удаления ветки](SCV_GitPR\image\NotMerge.PNG)

Для удаления ветки принудительно используется флаг `-D`. Пример команды для выполнения в консоли:

```bash
git branch -D имя_ветки
```

# Работа с удалённым репозиторием

## 1. Создание удалённого репозитория на GitHub

* Для работы с удалённым репозиторием необходимо иметь аккаунт на платформе для хостинга IT‑проектов и совместной разработки, например [GitHub](https://github.com/)

Если учётная запись уже существует, можно перети к созданию собственного удалённого репозитория или форкнуть уже сущесвтующий.


1. Для создания нового удалённого репозитория на [GitHub](https://github.com/) нажать кнопку ![Create a new repository](SCV_GitPR\image\GitHubImage2.PNG) на [домашней странице](https://github.com/dashboard), либо нажать в вверхнем правом углу на ***+*** - "Create new.." и выбрать ***New repository***:

![Скрин Create new...](image\GitHubImage1.PNG)

2. После необходимо заполнить поле ***Repository name*** - имя удалённого репозитория, выбрать тип доступа к репозиторию ***Public*** - общественный (видеть репозиторий будут все), ***Private*** - личный\закрытый (видеть будет только пользователь создавший репозиторий, возможно предоставлять доступ). 

3. Дальше идут поля не обязательные к заполнению:

* Add a README file - если установить чекбокс в репозитории будет содан автоматически файл README

* Add .gitignore - возможно выбрать из списка шаблон файла ***.gitignore***
 
* Choose a license - выбор лицензии с описанием того, что разрешено и запрещено делать с вашим проектом

4. По завершению предустановок нажать кнопку ***Creare repository***

Стриница создания репозитория выглядит так:

![Страница создания репозитория](SCV_GitPR\image\CrRep.PNG)

## 2. Клонирование удалённого репозитория и загрузка изменений на локальную машину

Для копирования удаёлннго репозитория на локальную машину, нужно удостовериться, что в каталоге назначения нет репозитория. 

Для загрузки удалённого репозитория есть такие команды:

`clone` -  клонирует удалённый репозиторий на локальную машину, то есть данная команда создаёт репозиторий и наполняет его содержимым с удалённого. Пример команды в консоли:

```bash
git clone <ссылка_на_удалённый_репозиторий>
```

`pull` - скачивает последние изменения с удалённого репозитория и производит слияние. Пример команды в консоли:

```bash
git pull
```

`fetch` - скачивает недостающие файлы с удалённого репозитория без слияния. Пример команды в консоли:

```bash
git fetch
```

## 3. Загрузка данных в удалённый репозиторий

Перед загрузкой измененеий в удалённый репозиторий необходимо убедиться, что локальный и удалённый репозиторий связаны (если репозиторий был склонирован), выполнив команду в консоли:

```bash
git remote
```

Чтобы добавить удалённый репозиторий и присвоить ему имя выполнить в консоли команду:

```bash
git remote add <короткое_имя> <ссылка_на_удалённый_репозиторий>
```


Для отправки изменений в удалённый репозиторий выполнить в консоли команду:

```bash
git push
```

Если новый удаёлнный репозиторий не содержит в себе данных с локального репозитория и требуется произвести загрузку то:

1. Добавить удаленный репозиторий и присвоить ему имя, используемое для удобства как сокращение адреса, выполнив команду в консоли:

```bash
git remote add <name> <URL>
```

`name` - (Имя) должно быть кратким, но ёмким.

2. Задать текущую ветку как `main` (основнуй на удалённом репозитории), выолнив команду в консоли:

```bash
git branch -M main
```

3. Привять ветку локального репозитория к удалённой ветке с названием “name”, ввести в консоли команду:

```bash
git push --set-upstream <name>
```

Это нужно для того, чтобы при выполнении команды `git pull` автоматически отправлялись изменения в ветку <name>

4. Далее для загрузки изменений на дуалённый репозиторий, выполнить команду в консоли:

```bash
git push
```


## 4. Fork репозитория и отправка pull request

***Fork*** или форк - копирование всего репозитория из одного места в другое. Это позволяет вам работать независимо от оригинального репозитория, изменять его и отправлять свои изменения обратно в виде pull request’ов.

***Pull request*** — запрос на объединение вашего кода с основным репозиторием. Создаётся, когда хотите поделиться своей работой с другими участниками проекта или когда хотите запросить интеграцию своего кода в основной репозиторий.

Чтобы создать ***Fork*** репозитория на GitHub, нужно:

1. Зайдити на страницу репозитория на GitHub.
2. Нажать кнопку ***Fork*** в правом верхнем углу страницы.
3. GitHub создаст копию репозитория на аккаунте.
4. Теперь можно вносить изменения в копию репозитория и отправлять pull request в оригинальный репозиторий, все изменения нужно производить в ***новой ветке***.

Для отправки ***pull request*** на GitHub, нужно:

1. Убедится, что есть разрешение на запись в репозиторий, в который нужно отправить ***pull request***.
2. Создать новую ветку в локальном репозитории для внесний изменений.
3. Внести изменения в ветку и протестировать их.
4. Отправить изменения в удаленный репозиторий с помощью команды git push.
5. Перейдите на страницу ***GitHub*** для репозитория, в который нужно отправить ***pull request***.
6. Нажать кнопку ***Compare & pull request***.
7. Выберать ветку, которую нужно сравнить, и нажмите кнопку ***Create pull request***.
8. Заполнить необходимые поля и описать изменения.
9. Нажать кнопку ***Create pull request*** для отправки запроса на слияние.
10. Владелец репозитория или модератор рассмотрит запрос и примет решение о принятии или отклонении предложенных изменений.




