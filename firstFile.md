![LogoGit](Git-Logo-2Color.png)
# Работа с гит (Git) и гитхаб (GitHub)

## 1. Проверка наличия установленного Git

В терминале выполнить команду `git --version`.
 Если Git установлен появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git 

Загружаем последнюю версию Git с [сайта](https://git-scm.com/downloads). И устанавливаем с настройками по умолчанию.

## 3. Настройка Git

При первом использовании Git необходимо представиться.
Для этого нужно ввести в терминале 2 команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```

## 4. Инициализация репозитория

Чтобы инициализировать Git в нужной папке:

1. Откройте папку в Visual Studio Code. Для этого нужно на верхней панели выберите `файл -> открыть папку` или сочетаниями клавиш: `Ctrl + K` или `Ctrl + O`;
2. В терминале пропишите команду `git init`;
3. Если возникла ошибка, значит вы пропустили настройку Git. Вернитесь к разделу 3 - настройка Git.

## 5. Запись изменений в репозиторий

Есть несколько способов записи изменений, но прежде чем к ним перейти рассмотрим рекомендации и три небольших лайфхака к созданию коммитов:

* Желательно писать комментарии к коммитам на английском языке
* Комментарии должны излагать общее значение изменения файла, не нужно копипастить весь код который вы написали в терминал
* Не забывайте про пробелы и кавычки
* Не забывайте про сохранение файла перед записью изменений. Можно включить автосохранение (`файл -> автосохранение`), для ручного сохранения используйте комбинацию клавиш `Ctrl + S`
* Когда записываете имя файла можно нажать Tab после первых символов, имя само заполнится дальше (если в репозитории только один файл, то можно просто нажать Tab, не вводя первые символы)
* Если до этого вы вводили команду, которая вам нужна сейчас, то с помощью стрелок вверх и вниз вы можете найти нужную команду в памяти терминала
* Если вы хотите сохранить все файлы, то вместо `git add имя файла` напишите `git add .`

**Первый способ записи изменений**

Этим способом нужно пользоваться при первом сохранении и можно использовать при дальнейших. Для него нам нужны две команды: `git add имя файла` и `git commit -m "комментарий"`. Сначала прописываем команду `git add имя файла`, под именем файла понимается имя файла, который нужно сохранить и его расширение. Например, есть файл Pigeon.md, тогда команда будет выглядеть `git add Pigeon.md`. Дальше вводим `git commit -m "комментарий"`, комментарий может быть любым, но если вы работаете в команде или не хотите через пару дней пытаться понять себя из прошлого, то пишите кратко и понятно, лучше на английском языке.

Так будет выглядеть успешное сохранение первым способом в терминале:

![Успешное сохранение первым способом](image.png)

**Второй способ записи изменений**

Этим и следующим способами можно пользоваться при последующих сохранениях. Вводим команду `git commit -a`, после ввода терминал немного изменится. Далее на <u>Английской раскладке</u> клавиатуры вводим "I", после чего можно вводить комментарий. Когда вы закончили ввод нажмите esc, переключитесь на <u>Английскую раскладку</u> клавиатуры и введите ":" (буква Ж на русской раскладке), после этого снизу терминала появится поле для ввода, напишите туда "wq" и нажмите enter.

Так будет выглядеть успешное сохранение вторым способом в терминале:

![Успешное сохранение вторым способом](image-1.png)

Терминал до ввода комментария:

![Терминал до ввода комментария](image-8.png)

Терминал во время ввода комментария:

![Терминал во время ввода комментария](image-7.png)

**Третий способ записи изменений**

Это самый быстрый способ, для него на выбор есть две команды: `git commit -a -m "комментарий"` или `git commit -am "комментарий"`.

Так будет выглядеть успешное сохранение третьим способом в терминале:

![Успешное сохранение третьим способом](image-9.png)

**Вспомогательные команды**

* `git status` - показывает текущее состояние Git, есть ли изменения в файлах, добавленных в репозиторий. 

    Вывод `git status`, когда есть изменённые и не добавленные файлы:

    ![Alt text](image-2.png)

    Вывод `git status`, когда нужно сделать коммит (если написать git status между `git add имя файла` и `git commit -m "комментарий"`):

    ![Alt text](image-3.png)

    Вывод `git status`, когда всё отслеживается и сохранено:

    ![Alt text](image-11.png)

* `git diff`- проверка разницы между текущим состоянием файла и последним коммитом в репозитории. При изменении строчки Git будет считать её удалённой, на фотографии ниже я убрала из строчки "Так будет выглядеть успешное сохранение третьим способом в терминале:" слово "третьим", из-за этого изначальный вариант подсвечивается красным и перед  ним стоит минус, а под ним новый вариант строчки. И ещё я добавила картинку, поэтому есть ещё одна зелёная строчка.

    Вывод `git diff`:

    ![Вывод git diff](image-10.png)

## 6. Просмотр истории коммитов

Команды для просмотра истории коммитов могут пригодиться, если вы хотите вернуться к старой версии вашей работы. На обычных сохранениях в Visual Studio вы далеко в прошлое не уйдёте, да и при выходе из студии вся история сбросится. Так что на помощь приходят две следующие команды Git'a:

* `git log` - просмотр всех коммитов. К каждому коммиту выводится идентификатор, автор, дата и время его создания и комментарий.

    Вывод `git log`:

    ![Вывод git log](image-4.png)

* `git log --oneline` - просмотр всех коммитов, но в сокращенном варианте (первые семь символов идентификатора и комментарий).

    Вывод `git log --oneline`:

    ![Вывод git log --oneline](image-5.png)

## 7. Перемещение между коммитами

Но зачем нам команды для просмотра истории? -Отчасти чтобы была возможность перемещаться между коммитами. Для перемещения есть две команды:

* `git checkout идентификатор` - переход к нужному коммиту. Не обязательно вводить весь идентификатор, достаточно первых четырёх чисел.

    Вывод `git checkout идентификатор` в терминал:

    ![git checkout с идентификатором](image-12.png)

* `git checkout master` - переход к актуальному состоянию.

    Вывод `git checkout master` в терминал:

    ![git checkout master](image-13.png)

## 8. Игнорирование файлов

Для того, чтобы исключить из отслеживания в репозитории определённые файли или папки необходимо создать там файл ***.gitignore*** и записать в него их названия или шаблоны, соответствующие таким файлам или папкам. Например нужно игнорировать файлы с расширением ***.png***, шаблон для них будет выглюдеть так: *.png

![файл .gitignore](image-14.png)

## 9. Создание веток в Git

Для создания ветки можно воспользоваться двумя командами:

* `git branch <имя новой ветки>` - простое создание новой ветки.

    На фото ниже создана новая ветка и проверено, какие ветки есть в репозитории.

    ![git branch <имя новой ветки>](image-15.png)
* `git checkout -b <имя новой ветки>` - создание новой ветки с переключением на неё.

    На фото создана новая ветка, после команды есть сообщение "Switched to a new branch 'resolveConflicts'", что переводится как "переключен на новую ветку 'resolveConflicts'"

    ![git checkout -b <имя новой ветки>](image-16.png)

По умолчанию имя основной ветки в Git - ***master***. 

`git branch` - просмотр списка веток в репозитории. Зелёным цветом и звёздочкой перед названием выделяется ветка, в которой вы сейчас находитесь.

![git branch](image-17.png)

## 10. Слияние веток и разрешение конфликтов

`git merge <имя ветки>` - слияние выбранной ветки с текущей.

Если была изменена одна и та же часть файла в обеих ветках, то может возникнуть конфликт, который потребует участия пользователя. VSCode предлагает варианты разрешения. Чтобы разрешить конфликт, нужно выбрать один из вариантов или объединить содержимое по-своему. Либо воспользоваться редактором слияния (есть только в новых версиях VSCode).

Сообщение при возникновении ошибки: 

![Ошибка](image-18.png)

VSCode когда произошел конфликт:

![конфликт в VSCode](image-25.png)

Для разрешения конфликта в VSCode есть 4 кнопки над зелёной областью: 
"Accept Current Change" (сохраняет то, что написано в активной ветке), "Accept Incoming Change" (сохраняет то, что написано в ветке для объединения), "Accept Both Changes" (оставляет обе строчки друг за другом), "Compare Changes" (просмотр разницы между ветками).

Сообщение, если слияние прошло успешно:

![Успешное слияние](image-19.png)

## 11. Просмотр дерева (графа) коммитов, удаление веток

Чтобы посмотреть дерево репозитория нужно использовать команду `git log --graph`. Если веток несколько, то дерево будет выглядеть примерно так:

![Дерево коммитов](image-20.png)

Если же параллельных веток (которые произошли от одного коммита) нет, то будет просто одна полоска. Пересечения обозначают момент, когда произошло слияние.

Для удаления ветки используется команда: `git branch -d <имя ветки>`. Если вы находитесь в ветке, которую у=пытаетесь удалить, то выйдет ошибка, перед удалением ветки нужно обязательно перейти на другую. Если вы уже перешли на другую ветку, но удалить всё равно не получается, значит вы не выполнили слияние той ветки с какой-либо другой. Если вам точно не нужен тот висящий коммит, то вы можете выполнить принудительное удаление ветки с помощью `git branch -D <имя ветки>`.

Обычное удаление ветки:

![Alt text](image-21.png)

Ошибки при удалении ветки:

* Когда находитесь в той же ветке:

    ![Alt text](image-22.png)

* Когда есть висящий коммит:

    ![Alt text](image-23.png)

Принудительное удаление ветки:

![Alt text](image-24.png)

## 12. Работа с удалёнными репозиториями

Для начала работы с удалёнными репозиториями нужно зарегистрироваться на GitHub. Для регистрации нужно будет указать свой email, придумать логин и пароль.

Работа с GitHub длится на работу со своими или чужими репозиториями. 

Начнём с создания своего репозитория. Если у вас его ещё нет, то создайте по инструкции выше (можно пропустить), если есть, то создайте репозиторий на [GitHub](github.com) (в правом верхнем углу значок +). Для начинающих программистов на следующей странице достаточно лишь написать имя репозитория:

![Создание нового репозитория](image-26.png)

Далее нажимаем кнопку "Create repository". В появившемся окне написаны инструкции по соединению локального и удалённого репозиториев:

![Инструкции по объединению репозиториев](image-27.png)

В первом сегменте предлагается скопировать ссылку, нужно это если вы хотите писать код сами, также она может пригодится, если вы пользуетесь VS (у меня версия 2022), там можно быстро подключить локальный репозиторий к GitHub вставив ссылку (ПКМ по решению -> Создать репозиторий Git... -> в левом меню выбрать "Существующий локальный объект" и заполнить форму справа).

Во втором сегменте предлагается создать репозиторий с файлом README.md и загрузить его на GitHub. А в третьем просто загрузить существующий репозиторий на GitHub. Код можно копипастить либо построчно, либо сразу всем текстом.

В последнем сегменте можно скопировать уже существующий репозиторий.

![Терминал после подключения локального репозитория к репозиторию на GitHub](image-28.png)

Разберём, что означают команды в третьем сегменте:

* `git remote add origin <ссылка на репозиторий>` - подключение удалённого репозитория, origin - название репозитория, оно может быть любым, но по умолчанию используют это. К этой команде и нужна ссылка из первого сегмента, но если вы копируете код, то ничего менять не нужно.
* `git branch -M main` - переименование ветки с master на main. Нужно это потому что на GitHub главная ветка называется main.
* `git push -u origin main` - отправка ветки main в репозиторий на GitHub (`-u` можно также записать как `--set-upstream`).

Остальные команды для работы с GitHub:
* `git push` - публикация локальной версии на GitHub (используется когда локальная и веб версии уже связаны).
* `git pull` - берёт актуальную версию с GitHub (команда будет пытаться объединить локальную и веб версию, если они различаются, то VSCode предложит решить конфликт (будет то же самое, что и при конфликтах при слиянии веток, не забывайте про коммит после конфликта))
* `cd <имя папки>` - позволяет перемещаться между папками, чтобы подняться на одну папку вверх используйте две точки вместо имени папки. Команда может пригодиться, если вам нужно войти в другой репозиторий.

Работу с чужими репозиториями можно разделить на работу для себя и помощь разработчику. 

Чтобы работать для себя нужно клонировать проект. Есть несколько вариантов как это сделать, все они выполняются через зелёную кнопку "Code" на главной странице репозитория: можно открыть с VS (кнопка "open with Visual Studio"), скачать архив с репозиторием (кнопка "Download ZIP") или с помощью терминала и команды `git clone <ссылка на репозиторий>`.

![Меню кнопки Code](image-29.png)

Чтобы помочь проекту нужно иcпользовать функцию разветвления (forking). Для этого нажмите на кнопку "Fork" (сверху справа), вам предложат изменить название проекта, лучше не менять его, чтобы не путаться, но если у вас уже есть проект с этим именем, то придётся изменить. После этого вы попадёте в свой репозиторий, но вы можете заметить, что сверху под названием репозитория появилась надпись "forked from ...(ссылка на GitHub с репозиторием, который вы выбрали)", что означает, что вы сделали fork от чьего-то репозитория.

![Forked from..](image-30.png)

Далее с помощью команды `git clone <ссылка на репозиторий>` клонируем наш репозиторий на компьютер. 

**ВАЖНО!!! Перед тем как делать клон репозитория проверьте, чтобы ваш терминал не находился в другой папке или другом репозитории, лучше вообще создать отдельную папку под проект.**

Когда завершится клонирование вы сможете приступить к работе. 

Перед началом нужно создать отдельную ветку (команда `git branch <имя ветки>`), нужно это для удобства, как вашего, так и главного разработчика. После вы можете делать всё, что нужно на своей ветке.

Когда ваша работа будет готова не объединяйте свою ветку с теми ветками, что были в проекте изначально. Не забудьте закоммитить, а потом опубликуйте изменения командой `git push -u origin <имя ветки>` (не `git push` потому что этой ветки нет в репозитории на GitHub). После этого на главной странице репозитория появится зелёая кнопка "Compare and pull request", после нажатия откроется страница, на которой можно написать что вы добавили/изменили, потом снова нажимаете на зелёную кнопку и ваша ветка отправляется к разработчику, у которого вы взяли проект.

Если кнопки "Compare and pull request" нет, то:
1. Перейдите во вкладку "Pull requests"
2. Нажмите кнопку "New pull request"
3. Сверху вы увидите названия двух репозиториев (автора и ваш), около названия вашего репозитория в выпадающем списке выберите ту ветку, которую вы создали

После этого появится зелёная кнопка "Create pull request", нажмите на неё и дальше всё будет как в первом варианте.

Ссылка на репозиторий с этим заданием: https://github.com/ggjnaaaa/instruction
Ссылка на фотографии: https://disk.yandex.ru/d/3w7oerCfZ6DIcw

Спасибо за внимание! Удачного кодинга :3