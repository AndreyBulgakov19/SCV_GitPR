![Логотип Git](https://i.imgur.com/SOLAYbE.png)
# GIT. Инструкция.
## Установка
### Windows
Загружаем последнюю версию Git c [сайта](https://www.git-scm.com/downloads). Устанавливаем с настройками по умолчанию.
### Linux (Debian-based)
В терминале выполняем комманду:
```
sudo apt git install
```
## Проверка установки
**Комманда:**
Для проверки правильности установки Git, в терминале необходимо ввести команду:
```
git --version     // Выдает версию программы Git
```
Если установка Git прошла успешно, то терминал выдаст вам сообщение с версией Git:
```
git version 2.42.0.windows.2
```
## Настройка
При первом использовании Git нужно прописать в настройках свои контактные данные. Для этого необходимо ввести в терминале две команды:
```
git config --global user.name  <"ВАШЕ ИМЯ">     // Задает имя пользователя
```
```
git config --global user.email <ВАША ПОЧТА>     // Задает электронную почту пользователя
```
Так же можно установить имя главной ветки по умолчанию.  
Изначально она назывется **master**, но для работы с удаленными репозитриями стоит изменить ее имя на **main**.  
Сделать это возможно с помощью команды:
```
git config --global init.defaultBranch main     // Задает имя по умолчанию для главной ветки
```
## Создание репозитория
Для того чтобы добавить директорию в систему контроля версий, необходимо в терминале перейти в нужную папку и ввести команду:
```
git init     // Добавляет выбранную папку в систему контроля Git
```
Для проверки инициализации нужно ввести комманду:
```
git status     // Выдает информацию о состоянии репозитория
```
Если терминал выдает сообщение:
```
On branch master
nothing to commit, working tree clean
```
Значит инициализация прошла успешно.
## Создание коммитов
После внесения изменений в репозитории, для того что бы зафиксировать их, нужно выполнить следующие действия.  
Сначала индексируем изменения в измененных файлах c помошью комманды:
```
git add <ИМЯ ФАЙЛА>     // Индексирует изменения в указанном файле
```
Если нам нужно проиндексировать изменения во всех модифицированных файлах репозитория, то можно воспользоваться коммандой:
```
git add .     // Индексирует изменения во всем репозитории
```
Для фиксации изменений нужно ввести команду:
```
git commit      // Фиксирует индексированные изменения репозитория
```
Чтобы совершить фиксацию необходимо добавить комментарий к ней.  
Комментарий можно указать сразу в команде коммита с помощью параметра `-m`.
```
git commit -m <"КОММЕНТАРИЙ">     // Фиксирует изменения и добавляет к ним комментарий
```
## Переключение между коммитами
Что бы вывести список всех зафиксированных изменений нужно ввести комманду:
```
git log     // Выводит список всех коммитов
```
Пример вывода:
```
commit e1c0c01f4b26f42c0b630b4811ef8b9fa3fc1285         // Хеш-код комита
Author: Ilya Korshunov <korshunov.work@gmail.com>       // Автор коммита
Date:   Sat Sep 30 02:48:57 2023 +0300                  // Дата коммита

    Initial commit                                      // Комментарий к коммиту
```
С помощью параметра `--oneline` можно вывести лаконичный список коммитов.
```
git log --oneline     // Выводит сокращенный список коммитов
```
Чтобы переключиться между коммитами нужно воспользоваться коммандой:
```
git checkout <ХЕШ-КОД КОММИТА>  // Перемещает нас в выбранный коммит
                                // (не обязательно прописывать полный хеш-код
                                // достаточно первых 4 символов)
```
После этого репозиторий перйдет к состоянию на момент совершения данного коммита.  
Для того чтобы вернуться к последнему коммиту, нужно воспользоваться командой:
```
git checkout <ИМЯ ТЕКУЩЕЙ ВЕТКИ>    // Возвращает к последнему коммиту ветки
```
## Игнорирование файлов
Чnо бы исключить из отслеживания в репозитории определенные файлы и папки. Неоходимо создать в корне репозитория файл **.gitignore** и записать в него их названия или шаблоны вида `*.*`  
  
  
__ПРИМЕР СОДЕРЖАНИЯ ФАЙЛА__
```
logo.jpg
picture.png
```
```
*.jpg
*.png
*.wav
```
## Создание веток
Для создания ветки можно воспользоваться этими командами:
```
git branch <ИМЯ ВЕТКИ>          // Создает новую ветку
git checkout -b <ИМЯ ВЕТИ>      // Создает новую ветку и перемещает нас в нее
git switch -c <ИМЯ ВЕТКИ>       // Создает новую ветку и перемещает нас в нее
```
Cписок веток в репозитории можно посмотреть с помощью команды:
```
git branch      // Выдает список всех имеющихся ветки репозитория
```
Ветка в которой вы находитесь в данный момент будет отмечена `*`:
```
$ git branch
  main
* paragraph/createBranch
```
## Перемещение между ветками
Для того чтобы перейти из одной ветки в другую можно воспользоваться командами:
```
git checkout <ИМЯ ВЕТКИ>    // Перемещает пользователя в выбранную ветку
```
или
```
git switch <ИМЯ ВЕТКИ>    // Перемещает пользователя в выбранную ветку
```
## Слияние веток, разрешение конфликтов
Для того что бы внести изменеия одной ветки в другую, необходимо:
1. Перейти в ветку, в которую мы будем добавлять измения.
2. Добавить изменения из необходимой ветки с помощью команды:
```
git merge <ИМЯ ВЕТКИ>   // Производит слияние ветки, в которой мы находимся в данный момент, с веткой, указанной в команде
```
Если, при слиянии веток, окажется что в одних и тех же строках содержится разная информация, то произойдет конфликт слияния.
При этом в конфликтующих местах документа появится запись вида:
```
 <<<<<<< HEAD
 Информация из ветки, в которую принимаются изменения
 =======
 Информация из ветки, от которой берут изменения
 >>>>>>> branch-a
```
Необходимо разрешить конфликт оставив только актуальные данные и закрепить результат коммитом.
## Удаление веток
Для удаления веток используется комманда `git branch` с параметром `-d`:
```
git branch -d <ИМЯ ВЕТКИ>   // Удаляет указанную ветку
```
C помощью параметра `-d` нельзя удалить ветку в котрой вы находиться в данный момент.  
Так же командой `git branch -d` нельзя удалить ветку в которой имеются неслитые изменения. Однако, это ограничение можно обойти, заменив параметр `-d` на `-D`
```
git branch -D <ИМЯ ВЕТКИ>   // ОСТОРОЖНО!
                            // Удаляет указанную ветку, даже если
                            // в ней имеются неслитые изменения
```
## Работа с удаленными репозиториями
В Git имееются инструменты для работы с репозиториями находящимися на удаленных серверах.  
Для добавления удаленного репозитория используется комманда:
```
git remote add <КОРОТКОЕ ИМЯ> <URL-РЕПОЗИТОРИЯ>   // Добавляет удаленный репозиторий
```
Короткое имя будет использоваться для обращения к удаленному репозиторию.  
  
Узнать какие удаленные репозитрии подключены к локальному можно с помощью комманды:
```
git remote    // Выводит список связанных удаленных репозиториев
```
**ПРИМЕР**
```
$ git remote
origin    // Короткое имя удаленного репозитория
```
Если добавить к этой команде параметр `-v` , то список репозиториев отобразится вместе с их url-адресами.  

**ПРИМЕР**
```
$ git remote -v
origin  https://github.com/korshunov-work/git-education.git (fetch)
origin  https://github.com/korshunov-work/git-education.git (push)
```
Для того чтобы получить изменения из удаленного репозитория, можно воспользоваться коммандой:
```
git fetch <КОРОТКОЕ ИМЯ>    // Забирает изменения из указанного репозитория
```
Эта команда забирает изменения из удаленного репозитория, но не сливает их с вашими. Поэтому, если вы хотите записать изменения в ваш локальный репозиторий, то необходимо вручную слить их.  
Или же можно упростить себе задачу и воспользоваться составной командой:
```
git pull    // Забирает изменения из репозитория и сливает их с вашими
```
Эта команда состоит из двух: `git fetch` и `git merge`. Она начала забирает изменеия с сервера, затем сливает их с вашей основной веткой.  
  
Так же тоит упомянуть о команде:
```
git clone <URL-РЕПОЗИТОРИЯ> <ИМЯ ПАПКИ>     // Копирует удаленный репозиторий
```
Как и `git pull` , `git clone` это составная комманда. Она создает папку на вашем компьютере, инициализирует в ней новый репозиторий (`git init`), привязывает к нему удаленный репозиторий (`git remote add`), задает ему по умолчанию имя **origin**, скачивает изменения (`git fetch`) и извлекает последний коммит (`git checkout`).  
  
Для того что бы загрузить свои изменения на удаленный репозиторий, используется команда:
```
git push <ИМЯ РЕПОЗИТОРИЯ> <ИМЯ ВЕТКИ>    // Закачивает изменения из указанной
                                          // ветки на указанный удаленный репозиторий
``````
Для внесения изменений требуется право записи на сервере, поэтому она использует аутентификацию.
## Работа с GitHub
[GitHub](https://github.com/) - это самый популярный онлайн-сервис для совместной работы и хостинга проектов.  
Его важным качеством является возможность работать над одним проектом большому количеству людей из разных уголком мира. Если вы выкладываете свой проект на GitHub в открытый доступ, любой заинтересованный пользователь, может ознакомиться с ним и предложить свои изменения. Или же вы можете найти интересный вам проект и присоединиться к его разработке с помощью функции **Pull Request**.  
  
**Pull Request** - это запрос на принятие изменений в публичный репозиторий GitHub.  
  
### Как стать участником сообщества GitHub
1. Сначала необходимо [зарегистрироваться](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F&source=header-home) на сайте. После регистрации вам сразу станут доступны все функции GitHub. Вы сможете создавать свои онлайн-репозитории, просматривать публичные репозитории других пользователей, а также взаимодействовать с ними.
2. Самый простой способ создать свой онлайн-репозиторий на GitHub - это восспользоваться кнопкой с символом `+` , которая находится в правом верхнем углу сайта, слева от иконки вашего профиля.
![Создание нового репозитория](https://i.imgur.com/rKPMFD1.png)  
Нас интересует пункт **New repository**.  
В окне создания нового репозитория нам необходимо задать его имя и выбрать тип доступа: **Public** или **Private**. Если вы выберете **Public** - ваш репозиторий будет виден всем, даже незарегистрированным на GitHub, пользователям. Если же вы выберете **Private**, то можно выбрать, кто сможет видеть и коммитить ваш репозиторий.  
![Окно настроек репозитория](https://i.imgur.com/VW36iU8.png)  
Остальные пункты настроек можно оставить в дефолтном состоянии. После нажатия кнопки **Create repository**, ваше хранилише будет создано. При этом появится окно, в котором GitHub сам предложит варианты работы с новым хранилищем: создать новый локальный репозиторий и связать его с репозиторием GitHub, связать с существующим локальным репозиторием, импортировать проект из другого онлайн-репозитория.  
![Варианты заполнения репозитория](https://i.imgur.com/8nBKSDh.png)  
После загрузки вашего проекта, вы можете полноценно работать с ним. Загружать и принимать изменения, редактировать код прямо на сайте GitHub и принимать Pull Request'ы от других пользователей GitHub.
3. Для того чтбы принять участие в работе над другими публичными проектами, необходимо сделать следущее.  
Сначала находим интересующий нас проект. В окне репозитория нажимаем кнопку **Fork**.
![Форк-репозиторий](https://i.imgur.com/7T95ptY.png)
Тем самым мы создаем копию этого репозитория, привязаннкую к нашему аккаунту, но при этом она также будет связана с родительским проектом.  
В окне, очень похожем на окно создания репозитория, можно выбрать имя (по умолчанию она будет таким же как и у родительского проекта), добавить описание и выбрать, копировать только main-ветку или же все. В окне скопированного репозитория нажимаем кнопку **<> Code** и в пункте **Clone** копируем https-ссылку на хранилище.  
![Клонирование репозитория](https://i.imgur.com/qPwlGrM.png)
Далее, с помощью команды `git clone` мы клонируем репозиторий на наш компьютер. Теперь мы можем работать с проектом как с локальным репозиторием.  
Что бы предложить свои изменения, нужно в локальном репозитории создать новую ветку для нашей работы. После внесения измений коммитим их и с помощью `git push` отправляем их в наш форк. После этих действий на GitHub в окне репозитория появится поле с инфомацией о новых изменениях и кнопка **Compare & pull request**, которая позволит отправить нашу работу владельцу родительского репозитория.  
![Compare & pull request](https://i.imgur.com/G1F77uX.png)
После нажатия на нее появится окно, в котором можно добавить название нашего запроса и его описание. Также тут содержится информация о самих изменениях.  
![Pull request](https://i.imgur.com/YaNvBa4.png)
Нажимаем кнопку **Create pull request** и все готово. Теперь остается только ждать ответа от владельца родительского репозитория. Он может принять наш запрос, отклонить его, либо отправить на доработку, описав свои требования в комментарии.