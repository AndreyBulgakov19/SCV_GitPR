# Подсказки по основным командам Git

| Содержание |
|----------|
| [Создание локального репозитория](#создание-локального-репозитория) |
| [Получение информации о текущем состоянии репозитория](#получение-информации-о-текущем-состоянии-репозитория)    |
| [Добавление файлов к последующему коммиту](#добавление-файлов-к-последующему-коммиту)    |
| [Создание коммита (фиксация изменений)](#создание-коммита-фиксация-изменений)    |
| [Вывод истории коммитов](#вывод-истории-коммитов)    |
| [Переход между коммитами](#переход-между-коммитами)    |
| [Просмотр изменений между коммитами](#просмотр-изменений-между-коммитами)    |
| [Создание ветки](#создание-ветки) |
| [Переключение между ветками](#переключение-между-ветками) |
| [Удаление ветки](#удаление-ветки) |
| [Слияние веток](#слияние-веток) |
| [Клонирование удалённого репозитория](#клонирование-удалённого-репозитория) |
| [Отправка изменений в удлаённый репозиторий](#отправка-локальных-изменений-в-удалённый-репозиторий) |
| [Получение изменений из удалённого репозитория](#получение-изменений-с-удалённого-репозитория-и-слияниеmerge-с-локальной-версией) |


Полную иформацию как по командам Git так и о самой системе контроля версий можно получить на официальном сайте [Git](https://git-scm.com/ "официальный сайт Git").
 
## Создание локального репозитория

```sh
git init
```

Команада ***`git init`*** созадёт локальный репоизторий в текущей директории. При этом в данной директории Git создаёт свою рабочую директорию `.git` где хранится вся информация и история по данному репозиторию:

![cистемня рабочая директория Git](/images/git_work_directory.png)

## Получение информации о текущем состоянии репозитория

```sh
git satus
```

Во время работы вы создаёте новые и изменяете старые файлы. Чтобы получить от Git информацию какие файлы были добавлены, а какие изменены требуется выолнить команду ***`git status`***. Вывод этой команды подскажет какие файлы были добавлены (или удалены), а какие изменены:

![вывод команды git status](/images/git_status.png)

Изменённые файлы помечаются соответствующей подсказкой:

```sh
изменено:     [имя изменённого файла]
```

Добавленные файлы перечислены под пометкой 

```sh
Неотслеживаемые файлы:
```

 Чтобы зафиксировать в системе Git текущие изменения необходимо все добавленные, удалённые и изменённые файлы подготовить к фиксации в системе контроля версий. Для этого необходимо выполнить команду ***`git add`***.

## Добавление файлов к последующему коммиту

```sh
git add [путь до файла или директории]
```

После команды ***`git add`*** необходимо через пробел перечислить добавляемые файл:

![команда git add и добавляемые файлы](/images/git_add.png)

Вывод команды ***`git status`*** после выполнения команды ***`git add`***:

![вывод команды git status после git add](/images/git_add2.png)

Файлы которые подготовлены к последующему коммиту отмечаются цветом и перечислены после пометки:

```sh
Изменения, которые будут включены в коммит:
```

## Создание коммита (фиксация изменений)
```sh
git commit -m "Message"
```

Для фиксации текущих изменений используется команад ***`git commit -m "Текст коммита"`***. В результате действия команды все файлы которые были подготовлены к коммиту командой ***`git add`*** будут добавлены в систему контроля версий.

## Вывод истории коммитов

```sh
git log
```

Данная команда выведет историю коммитов в текущем репозитории. Каждый коммит в истории помечен собственным хэш-кодом. Данный хэщ-код используется для переключения между коммитами:

![вывод комманды git lig](/images/git_log.png)

По умолчанию ***`git log`*** выводит подробную информацию по каждому коммиту. Чтобы вывод был компактнее и умещался в одну строку используется ключ ***`--oneline`***:

```sh
git log --oneline
```

![вывод команды git log с ключом --oneline](/images/git_log_oneline.png)

## Переход между коммитами

```sh
git checkout [хэш-код коммита]
```

Для перемещения по истории изменений используется команда ***`git checkout`***. Указав после команды хэш-код требуемого коммита можно переместиться по истории назад или вперёд и посмотреть состояние репозитория и содержимое файлов на момент данного коммита.

Для возврата к актуальному состоянию репозитория вместо хэш-кода коммита следует указать ***`master`***:

```sh
git checkout master
```

## Просмотр изменений между коммитами

```sh
git diff [хэш-код коммита] [имя файла]
```

Данная команда покажет изменения которые произошли в данном файле отсносительно указанного коммита. Можно не указывать полный хэш-код коммита, а указать только первые 7 симовлов:

![вывод команды git diff](/images/git_diff.png)

## Создание ветки

```sh
git branch [имя ветки]
```

Ветки служат для распараллеливания работы. Они служат основой совместной разработки в команде, когда несколько человек работают над одним проектом, то становится удобным когда каждый может работать над своей частью проекта, а потом результаты работы объединяются в одной ветке, например, ***`master`***. Эту ветка уже упоминалась в главе посвящённой команде переключения между коммитами [***`git checkout`***](#переход-между-коммитами).

Для вывода всех веток в текущем проекте необходимо выполнить команду:

```sh
git branch
```

## Переключение между ветками

```sh
git checkout [имя ветки]
```

Команда используется для переключения с текущей на желаемую, имя которой указано в команде.

**<span style="color: red">Внимание!:</span>** если в текущей ветки есть изменения, то Git не выполнит переключение на ветку и предложит добавить изменения в последующий коммит. Чтобы выполнить переключение необходимо выполнить команды ***`git add`*** и ***`git commit`*** в текущей ветке.

## Удаление ветки

```sh
git branch -d [имя ветки]
```

Команда служит для удаления веток. Если в ветке были не закомиченные изменения, то команда не выполнится и Git предложит закоммитить изменения.

![вывод команды git branch -d при наличии незакомиченных изменений](/images/git_branch-d.png)

## Слияние веток

```sh
git merge [имя ветки]
```

При выполнении данной команды все изменения ИЗ ветки [имя ветки] будут добавлены В текущую ветку.

При этом возможны конфликты, когда измения в текущей ветке были выполнены в тех же местах, что и в ветке с которой происходит слияние.

Конфликты следует исправить и продолжить слияние или выполнить коммит.

Испрвлять конфликты удобнее в каком-нибудь редакторе кода типа [Visual Studio Code](https://code.visualstudio.com/) или в IDE, например [IntelliJ IDEA](https://www.jetbrains.com/idea/) от компании [JetBrains](https://www.jetbrains.com/).


# Работа с удалённым/внешним репозиторием

## Клонирование удалённого репозитория

```sh
git clone [url внешнего репозитория]
```

Команда позволяет клонировать внешний репозиторий в локальную директорию.

Если внешний/удалённый репозиторий расположен на ресурсе [GitHub](https://github.com/), то чаще всего перед клонированием репозитория нужно сделать [`Fork`](https://docs.github.com/ru/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo) репозитория того проекта в который предполагается вносить изменения.

## Отправка локальных изменений в удалённый репозиторий

```sh
git push
```

Данная команда отправляет изменения сделанные в локальной копии удалённого репозитория непосредственно в удалённый репозиторий.

## Получение изменений с удалённого репозитория и слияние/merge с локальной версией

```sh
git pull
```

Данная команда выполнит получение текущего состояния удалённого репозитория и произведёт слияние с локальной версией репозитория.